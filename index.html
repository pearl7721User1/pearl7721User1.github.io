<html>

<head>

    <script>
        
        function myFunction() {
            

            const returnJson = {
            action: 'create',
            type: 'type',
             file: 'file',
              mp4: 'mp4',
              fileSize: 'filesize',
            };

            var paramString = Object.entries(returnJson).map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`).join('&');


            function iOS() {
                  return ['iPad Simulator','iPhone Simulator','iPod Simulator','iPad','iPhone','iPod'].includes(navigator.platform)
                 // iPad on iOS 13 detection
                  || (navigator.userAgent.includes("Mac") && "ontouchend" in document)
            }

//            var ua = window.navigator.userAgent;

            /*
            var iOS = !!ua.match(/iPad/i) || !!ua.match(/iPhone/i);
            var webkit = !!ua.match(/WebKit/i);
            var iOSSafari = iOS && webkit && !ua.match(/CriOS/i);

//            if (iOSSafari) {
                let currentLocation = window.location.href;
                window.location.href = 'vlogrPluginData://' + paramString; // open('vlogrPluginData://', '_blank');
//                winndow.location = currentLocation;
//            }
            */

           if (iOS()) {
                // iPad or iPhone
                let currentLocation = window.location.href;
                window.location.href = 'vlogrPluginData://' + paramString; // open('vlogrPluginData://', '_blank');
            }
            else {
               // Anything else

            }
            
           

        }

        
    </script>

</head>


<body>
    hello world
    
    <button onclick="myFunction()">Click meee</button>
</body>

</html>